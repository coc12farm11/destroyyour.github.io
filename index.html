<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: var(--tg-theme-text-color);
            background: var(--tg-theme-bg-color);
        }

        .container {
            max-width: 500px;
            width: 100%;
            padding: 20px;
            background: var(--tg-theme-bg-color);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: var(--tg-theme-text-color);
        }

        input[type="text"],
        textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }

        #create {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #create:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéâ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω–∫—É—Ä—Å–∞</h1>
        <form id="contest-form">
            <label for="contest-name">‚úèÔ∏è –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞:</label>
            <input type="text" id="contest-name" name="contest_name" required>
            <label for="contest-description">üí¨ –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞:</label>
            <textarea id="contest-description" name="contest_description" rows="4" required></textarea>
            <label for="contest-prize">üéÅ –ü—Ä–∏–∑:</label>
            <input type="text" id="contest-prize" name="contest_prize" required>
            <div id="error"></div>
            <button id="create">–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω–∫—É—Ä—Å</button>
        </form>
    </div>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        let tg = window.Telegram.WebApp;
        let create_giveaway = document.getElementById("create");
        tg.expand();
    
        create_giveaway.addEventListener("click", () => {
            document.getElementById("error").innerText = '';
            let name = document.getElementById("contest_name").value;
            let desc = document.getElementById("contest_description").value;
            let prize = document.getElementById("contest_prize").value;
            
            let data = {
                name: name,
                desc: desc,
                prize: prize
            }
    
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
            tg.sendData(JSON.stringify(data))
              .then(() => {
                  // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ
                  tg.close();
              })
              .catch(error => {
                document.getElementById("error").innerText = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error;
                  // –í–æ–∑–º–æ–∂–Ω–æ, –∑–¥–µ—Å—å –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É
              });
        }); 
    </script>
    
</body>
</html>
